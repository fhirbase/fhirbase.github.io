{
  "title": "Fhirbase basics",

  "queries": [
    {
      "title": "Select patients",
      "query": "SELECT * \nFROM patient\nLIMIT 10"
    },
    {
      "title": "Access attributes",
      "query": "SELECT resource->'name', resource->'birthDate' \nFROM patient\nLIMIT 10"
    },
    {
      "title": "Access with fhirpath",
      "query": "SELECT fhirpath(resource, 'name.given') \nFROM patient\nLIMIT 10"
    },
    {
      "title": "Encounters",
      "query": "SELECT count(*) \nFROM encounter"
    },
     {
      "title": "Count popular names",
      "query": "SELECT COUNT(*), resource#>>'{name,0,given,0}'\nFROM patient\nGROUP BY resource#>>'{name,0,given,0}'\nORDER BY COUNT(*) DESC;"
    },
    {
      "title": "Search by name",
      "query": "SELECT id, resource->'name' \n FROM patient\n WHERE \n  fhirpath(resource,$$name.where(use='official').family$$)->>0  ilike 'Hick%';"
    },
    {
      "title": "Observations",
      "query": "SELECT resource#>>'{code,text}', fhirpath(resource, 'value.Quantity.value') FROM observation\n LIMIT 100 ;"
    }
    
    
  ]
}
